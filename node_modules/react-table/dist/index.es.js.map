{"version":3,"file":"index.es.js","sources":["../src/publicUtils.js","../src/utils.js","../src/hooks/useColumnVisibility.js","../src/hooks/useTable.js","../src/plugin-hooks/useExpanded.js","../src/filterTypes.js","../src/plugin-hooks/useFilters.js","../src/aggregations.js","../src/plugin-hooks/useGroupBy.js","../src/sortTypes.js","../src/plugin-hooks/useSortBy.js","../src/plugin-hooks/usePagination.js","../src/plugin-hooks/useRowSelect.js","../src/plugin-hooks/useRowState.js","../src/plugin-hooks/useColumnOrder.js","../src/plugin-hooks/useResizeColumns.js","../src/plugin-hooks/useAbsoluteLayout.js","../src/plugin-hooks/useBlockLayout.js"],"sourcesContent":["import React from 'react'\n\nexport const actions = {\n  init: 'init',\n}\n\nexport const defaultColumn = {\n  Cell: ({ cell: { value = '' } }) => String(value),\n  width: 150,\n  minWidth: 0,\n  maxWidth: Number.MAX_SAFE_INTEGER,\n}\n\nexport function defaultOrderByFn(arr, funcs, dirs) {\n  return [...arr].sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const sortFn = funcs[i]\n      const desc = dirs[i] === false || dirs[i] === 'desc'\n      const sortInt = sortFn(rowA, rowB)\n      if (sortInt !== 0) {\n        return desc ? -sortInt : sortInt\n      }\n    }\n    return dirs[0] ? rowA.index - rowB.index : rowB.index - rowA.index\n  })\n}\n\nexport function defaultGroupByFn(rows, columnId) {\n  return rows.reduce((prev, row, i) => {\n    // TODO: Might want to implement a key serializer here so\n    // irregular column values can still be grouped if needed?\n    const resKey = `${row.values[columnId]}`\n    prev[resKey] = Array.isArray(prev[resKey]) ? prev[resKey] : []\n    prev[resKey].push(row)\n    return prev\n  }, {})\n}\n\nexport const mergeProps = (...groups) => {\n  let props = {}\n\n  groups.forEach(({ style = {}, className, ...rest } = {}) => {\n    props = {\n      ...props,\n      ...rest,\n      style: {\n        ...(props.style || {}),\n        ...style,\n      },\n      className: [props.className, className].filter(Boolean).join(' '),\n    }\n  })\n\n  if (props.className === '') {\n    delete props.className\n  }\n\n  return props\n}\n\nexport const applyHooks = (hooks, initial, ...args) =>\n  hooks.reduce((prev, next) => {\n    const nextValue = next(prev, ...args)\n    if (typeof nextValue === 'undefined') {\n      throw new Error(\n        'React Table: A hook just returned undefined! This is not allowed.'\n      )\n    }\n    return nextValue\n  }, initial)\n\nexport const applyPropHooks = (hooks, ...args) =>\n  hooks.reduce((prev, next) => mergeProps(prev, next(...args)), {})\n\nexport function ensurePluginOrder(plugins, befores, pluginName, afters) {\n  const pluginIndex = plugins.findIndex(\n    plugin => plugin.pluginName === pluginName\n  )\n\n  if (pluginIndex === -1) {\n    throw new Error(`The plugin ${pluginName} was not found in the plugin list!\nThis usually means you need to need to name your plugin hook by setting the 'pluginName' property of the hook function, eg:\n\n  ${pluginName}.pluginName = '${pluginName}'\n`)\n  }\n\n  befores.forEach(before => {\n    const beforeIndex = plugins.findIndex(\n      plugin => plugin.pluginName === before\n    )\n    if (beforeIndex > -1 && beforeIndex > pluginIndex) {\n      throw new Error(\n        `React Table: The ${pluginName} plugin hook must be placed after the ${before} plugin hook!`\n      )\n    }\n  })\n\n  afters.forEach(after => {\n    const afterIndex = plugins.findIndex(plugin => plugin.pluginName === after)\n    if (afterIndex > -1 && afterIndex < pluginIndex) {\n      throw new Error(\n        `React Table: The ${pluginName} plugin hook must be placed before the ${after} plugin hook!`\n      )\n    }\n  })\n}\n\nexport function functionalUpdate(updater, old) {\n  return typeof updater === 'function' ? updater(old) : updater\n}\n\nexport function useGetLatest(obj) {\n  const ref = React.useRef()\n  ref.current = obj\n\n  return React.useCallback(() => ref.current, [])\n}\n\n// SSR has issues with useLayoutEffect still, so use useEffect during SSR\nexport const safeUseLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport function useMountedLayoutEffect(fn, deps) {\n  const mountedRef = React.useRef(false)\n\n  safeUseLayoutEffect(() => {\n    if (mountedRef.current) {\n      fn()\n    }\n    mountedRef.current = true\n    // eslint-disable-next-line\n  }, deps)\n}\n\nexport function useAsyncDebounce(defaultFn, defaultWait = 0) {\n  const debounceRef = React.useRef({})\n  debounceRef.current.defaultFn = defaultFn\n  debounceRef.current.defaultWait = defaultWait\n\n  const debounce = React.useCallback(\n    async (\n      fn = debounceRef.current.defaultFn,\n      wait = debounceRef.current.defaultWait\n    ) => {\n      if (!debounceRef.current.promise) {\n        debounceRef.current.promise = new Promise((resolve, reject) => {\n          debounceRef.current.resolve = resolve\n          debounceRef.current.reject = reject\n        })\n      }\n\n      if (debounceRef.current.timeout) {\n        clearTimeout(debounceRef.current.timeout)\n      }\n\n      debounceRef.current.timeout = setTimeout(async () => {\n        delete debounceRef.current.timeout\n        try {\n          debounceRef.current.resolve(await fn())\n        } catch (err) {\n          debounceRef.current.reject(err)\n        } finally {\n          delete debounceRef.current.promise\n        }\n      }, wait)\n\n      return debounceRef.current.promise\n    },\n    []\n  )\n\n  return debounce\n}\n\nexport function useConsumeHookGetter(hooks, hookName) {\n  const getter = useGetLatest(hooks[hookName])\n  hooks[hookName] = undefined\n  return getter\n}\n","import React from 'react'\nimport { defaultColumn } from './publicUtils'\n\nexport * from './publicUtils'\n\n// Find the depth of the columns\nexport function findMaxDepth(columns, depth = 0) {\n  return columns.reduce((prev, curr) => {\n    if (curr.columns) {\n      return Math.max(prev, findMaxDepth(curr.columns, depth + 1))\n    }\n    return depth\n  }, 0)\n}\n\nfunction decorateColumn(column, userDefaultColumn, parent, depth, index) {\n  // Apply the userDefaultColumn\n  column = { ...defaultColumn, ...userDefaultColumn, ...column }\n\n  // First check for string accessor\n  let { id, accessor, Header } = column\n\n  if (typeof accessor === 'string') {\n    id = id || accessor\n    const accessorPath = accessor.split('.')\n    accessor = row => getBy(row, accessorPath)\n  }\n\n  if (!id && typeof Header === 'string' && Header) {\n    id = Header\n  }\n\n  if (!id && column.columns) {\n    console.error(column)\n    throw new Error('A column ID (or unique \"Header\" value) is required!')\n  }\n\n  if (!id) {\n    console.error(column)\n    throw new Error('A column ID (or string accessor) is required!')\n  }\n\n  column = {\n    // Make sure there is a fallback header, just in case\n    Header: () => <>&nbsp;</>,\n    Footer: () => <>&nbsp;</>,\n    ...column,\n    // Materialize and override this stuff\n    id,\n    accessor,\n    parent,\n    depth,\n    index,\n  }\n\n  return column\n}\n\n// Build the visible columns, headers and flat column list\nexport function decorateColumnTree(columns, defaultColumn, parent, depth = 0) {\n  return columns.map((column, columnIndex) => {\n    column = decorateColumn(column, defaultColumn, parent, depth, columnIndex)\n    if (column.columns) {\n      column.columns = decorateColumnTree(\n        column.columns,\n        defaultColumn,\n        column,\n        depth + 1\n      )\n    }\n    return column\n  })\n}\n\n// Build the header groups from the bottom up\nexport function makeHeaderGroups(flatColumns, defaultColumn) {\n  const headerGroups = []\n\n  // Build each header group from the bottom up\n  const buildGroup = (columns, depth) => {\n    const headerGroup = {\n      headers: [],\n    }\n\n    const parentColumns = []\n\n    // Do any of these columns have parents?\n    const hasParents = columns.some(col => col.parent)\n\n    columns.forEach(column => {\n      // Are we the first column in this group?\n      const isFirst = !parentColumns.length\n\n      // What is the latest (last) parent column?\n      let latestParentColumn = [...parentColumns].reverse()[0]\n\n      // If the column has a parent, add it if necessary\n      if (column.parent) {\n        const similarParentColumns = parentColumns.filter(\n          d => d.originalId === column.parent.id\n        )\n        if (isFirst || latestParentColumn.originalId !== column.parent.id) {\n          parentColumns.push({\n            ...column.parent,\n            originalId: column.parent.id,\n            id: [column.parent.id, similarParentColumns.length].join('_'),\n          })\n        }\n      } else if (hasParents) {\n        // If other columns have parents, we'll need to add a place holder if necessary\n        const originalId = [column.id, 'placeholder'].join('_')\n        const similarParentColumns = parentColumns.filter(\n          d => d.originalId === originalId\n        )\n        const placeholderColumn = decorateColumn(\n          {\n            originalId,\n            id: [column.id, 'placeholder', similarParentColumns.length].join(\n              '_'\n            ),\n            placeholderOf: column,\n          },\n          defaultColumn\n        )\n        if (\n          isFirst ||\n          latestParentColumn.originalId !== placeholderColumn.originalId\n        ) {\n          parentColumns.push(placeholderColumn)\n        }\n      }\n\n      // Establish the new headers[] relationship on the parent\n      if (column.parent || hasParents) {\n        latestParentColumn = [...parentColumns].reverse()[0]\n        latestParentColumn.headers = latestParentColumn.headers || []\n        if (!latestParentColumn.headers.includes(column)) {\n          latestParentColumn.headers.push(column)\n        }\n      }\n\n      column.totalHeaderCount = column.headers\n        ? column.headers.reduce(\n            (sum, header) => sum + header.totalHeaderCount,\n            0\n          )\n        : 1 // Leaf node columns take up at least one count\n      headerGroup.headers.push(column)\n    })\n\n    headerGroups.push(headerGroup)\n\n    if (parentColumns.length) {\n      buildGroup(parentColumns, depth + 1)\n    }\n  }\n\n  buildGroup(flatColumns, 0)\n\n  return headerGroups.reverse()\n}\n\nconst pathObjCache = new Map()\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj\n  }\n  const cacheKey = typeof path === 'function' ? path : JSON.stringify(path)\n\n  const pathObj =\n    pathObjCache.get(cacheKey) ||\n    (() => {\n      const pathObj = makePathArray(path)\n      pathObjCache.set(cacheKey, pathObj)\n      return pathObj\n    })()\n\n  let val\n\n  try {\n    val = pathObj.reduce((cursor, pathPart) => cursor[pathPart], obj)\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nexport function getFirstDefined(...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i]\n    }\n  }\n}\n\nexport function getElementDimensions(element) {\n  const rect = element.getBoundingClientRect()\n  const style = window.getComputedStyle(element)\n  const margins = {\n    left: parseInt(style.marginLeft),\n    right: parseInt(style.marginRight),\n  }\n  const padding = {\n    left: parseInt(style.paddingLeft),\n    right: parseInt(style.paddingRight),\n  }\n  return {\n    left: Math.ceil(rect.left),\n    width: Math.ceil(rect.width),\n    outerWidth: Math.ceil(\n      rect.width + margins.left + margins.right + padding.left + padding.right\n    ),\n    marginLeft: margins.left,\n    marginRight: margins.right,\n    paddingLeft: padding.left,\n    paddingRight: padding.right,\n    scrollWidth: element.scrollWidth,\n  }\n}\n\nexport function flexRender(Comp, props) {\n  return isReactComponent(Comp) ? <Comp {...props} /> : Comp\n}\n\nfunction isClassComponent(component) {\n  return (\n    typeof component === 'function' &&\n    !!(() => {\n      let proto = Object.getPrototypeOf(component)\n      return proto.prototype && proto.prototype.isReactComponent\n    })()\n  )\n}\n\nfunction isFunctionComponent(component) {\n  return typeof component === 'function'\n}\n\nfunction isReactComponent(component) {\n  return isClassComponent(component) || isFunctionComponent(component)\n}\n\nexport function isFunction(a) {\n  if (typeof a === 'function') {\n    return a\n  }\n}\n\nexport function flattenBy(columns, childKey) {\n  const flatColumns = []\n\n  const recurse = columns => {\n    columns.forEach(d => {\n      if (!d[childKey]) {\n        flatColumns.push(d)\n      } else {\n        recurse(d[childKey])\n      }\n    })\n  }\n\n  recurse(columns)\n\n  return flatColumns\n}\n\nexport function expandRows(\n  rows,\n  { manualExpandedKey, expanded, expandSubRows = true }\n) {\n  const expandedRows = []\n\n  const handleRow = row => {\n    const key = row.path.join('.')\n\n    row.isExpanded =\n      (row.original && row.original[manualExpandedKey]) ||\n      expanded.includes(key)\n\n    row.canExpand = row.subRows && !!row.subRows.length\n\n    expandedRows.push(row)\n\n    if (expandSubRows && row.subRows && row.subRows.length && row.isExpanded) {\n      row.subRows.forEach(handleRow)\n    }\n  }\n\n  rows.forEach(handleRow)\n\n  return expandedRows\n}\n\n//\n\nconst reOpenBracket = /\\[/g\nconst reCloseBracket = /\\]/g\n\nfunction makePathArray(obj) {\n  return (\n    flattenDeep(obj)\n      // remove all periods in parts\n      .map(d => String(d).replace('.', '_'))\n      // join parts using period\n      .join('.')\n      // replace brackets with periods\n      .replace(reOpenBracket, '.')\n      .replace(reCloseBracket, '')\n      // split it back out on periods\n      .split('.')\n  )\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n","import React from 'react'\n\nimport {\n  actions,\n  functionalUpdate,\n  mergeProps,\n  applyPropHooks,\n  useGetLatest,\n} from '../utils'\n\nactions.resetHiddenColumns = 'resetHiddenColumns'\nactions.toggleHideColumn = 'toggleHideColumn'\nactions.setHiddenColumns = 'setHiddenColumns'\nactions.toggleHideAllColumns = 'toggleHideAllColumns'\n\nexport const useColumnVisibility = hooks => {\n  hooks.getToggleHiddenProps = []\n  hooks.getToggleHideAllColumnsProps = []\n\n  hooks.stateReducers.push(reducer)\n  hooks.useInstanceBeforeDimensions.push(useInstanceBeforeDimensions)\n  hooks.headerGroupsDeps.push((deps, instance) => [\n    ...deps,\n    instance.state.hiddenColumns,\n  ])\n  hooks.useInstance.push(useInstance)\n}\n\nuseColumnVisibility.pluginName = 'useColumnVisibility'\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      hiddenColumns: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetHiddenColumns) {\n    return {\n      ...state,\n      hiddenColumns: [],\n    }\n  }\n\n  if (action.type === actions.toggleHideColumn) {\n    const should =\n      typeof action.value !== 'undefined'\n        ? action.value\n        : !state.hiddenColumns.includes(action.columnId)\n\n    const hiddenColumns = should\n      ? [...state.hiddenColumns, action.columnId]\n      : state.hiddenColumns.filter(d => d !== action.columnId)\n\n    return {\n      ...state,\n      hiddenColumns,\n    }\n  }\n\n  if (action.type === actions.setHiddenColumns) {\n    return {\n      ...state,\n      hiddenColumns: functionalUpdate(action.value, state.hiddenColumns),\n    }\n  }\n\n  if (action.type === actions.toggleHideAllColumns) {\n    const shouldAll =\n      typeof action.value !== 'undefined'\n        ? action.value\n        : !state.hiddenColumns.length\n\n    return {\n      ...state,\n      hiddenColumns: shouldAll\n        ? instanceRef.current.flatColumns.map(d => d.id)\n        : [],\n    }\n  }\n}\n\nfunction useInstanceBeforeDimensions(instance) {\n  const {\n    headers,\n    state: { hiddenColumns },\n  } = instance\n\n  const handleColumn = (column, parentVisible) => {\n    column.isVisible = parentVisible && !hiddenColumns.includes(column.id)\n\n    let totalVisibleHeaderCount = 0\n\n    if (column.headers && column.headers.length) {\n      column.headers.forEach(\n        subColumn =>\n          (totalVisibleHeaderCount += handleColumn(subColumn, column.isVisible))\n      )\n    } else {\n      totalVisibleHeaderCount = column.isVisible ? 1 : 0\n    }\n\n    column.totalVisibleHeaderCount = totalVisibleHeaderCount\n\n    return totalVisibleHeaderCount\n  }\n\n  let totalVisibleHeaderCount = 0\n\n  headers.forEach(\n    subHeader => (totalVisibleHeaderCount += handleColumn(subHeader, true))\n  )\n\n  return instance\n}\n\nfunction useInstance(instance) {\n  const {\n    flatHeaders,\n    dispatch,\n    flatColumns,\n    state: { hiddenColumns },\n  } = instance\n\n  const getInstance = useGetLatest(instance)\n\n  const allColumnsHidden = flatColumns.length === hiddenColumns.length\n\n  flatHeaders.forEach(column => {\n    column.toggleHidden = value => {\n      dispatch({\n        type: actions.toggleHideColumn,\n        columnId: column.id,\n        value,\n      })\n    }\n\n    column.getToggleHiddenProps = props => {\n      return mergeProps(\n        {\n          onChange: e => {\n            column.toggleHidden(!e.target.checked)\n          },\n          style: {\n            cursor: 'pointer',\n          },\n          checked: column.isVisible,\n          title: 'Toggle Column Visible',\n        },\n        applyPropHooks(getInstance().hooks.getToggleHiddenProps, getInstance()),\n        props\n      )\n    }\n  })\n\n  const toggleHideColumn = React.useCallback(\n    (columnId, value) =>\n      dispatch({ type: actions.toggleHideColumn, columnId, value }),\n    [dispatch]\n  )\n\n  const setHiddenColumns = React.useCallback(\n    value => dispatch({ type: actions.setHiddenColumns, value }),\n    [dispatch]\n  )\n\n  const toggleHideAllColumns = React.useCallback(\n    value => dispatch({ type: actions.toggleHideAllColumns, value }),\n    [dispatch]\n  )\n\n  const getToggleHideAllColumnsProps = props => {\n    return mergeProps(\n      {\n        onChange: e => {\n          toggleHideAllColumns(!e.target.checked)\n        },\n        style: {\n          cursor: 'pointer',\n        },\n        checked: !allColumnsHidden && !hiddenColumns.length,\n        title: 'Toggle All Columns Hidden',\n        indeterminate: !allColumnsHidden && hiddenColumns.length,\n      },\n      applyPropHooks(\n        getInstance().hooks.getToggleHideAllColumnsProps,\n        getInstance()\n      ),\n      props\n    )\n  }\n\n  return {\n    ...instance,\n    toggleHideColumn,\n    setHiddenColumns,\n    toggleHideAllColumns,\n    getToggleHideAllColumnsProps,\n  }\n}\n","import React from 'react'\n\n//\nimport {\n  actions,\n  applyHooks,\n  applyPropHooks,\n  mergeProps,\n  flexRender,\n  decorateColumnTree,\n  makeHeaderGroups,\n  flattenBy,\n  useGetLatest,\n  useConsumeHookGetter,\n} from '../utils'\n\nimport { useColumnVisibility } from './useColumnVisibility'\n\nlet renderErr = 'Renderer Error'\n\nconst defaultInitialState = {}\nconst defaultColumnInstance = {}\nconst defaultReducer = (state, action, prevState) => state\nconst defaultGetSubRows = (row, index) => row.subRows || []\nconst defaultGetRowId = (row, index) => index\nconst defaultUseControlledState = d => d\n\nexport const useTable = (props, ...plugins) => {\n  // Destructure props\n  let {\n    data,\n    columns: userColumns,\n    initialState = defaultInitialState,\n    defaultColumn = defaultColumnInstance,\n    getSubRows = defaultGetSubRows,\n    getRowId = defaultGetRowId,\n    stateReducer: userStateReducer = defaultReducer,\n    useControlledState = defaultUseControlledState,\n  } = props\n\n  plugins = [useColumnVisibility, ...plugins]\n\n  // The table instance\n  let instanceRef = React.useRef({})\n\n  Object.assign(instanceRef.current, {\n    ...props,\n    plugins,\n    data,\n    hooks: {\n      stateReducers: [],\n      columns: [],\n      columnsDeps: [],\n      flatColumns: [],\n      flatColumnsDeps: [],\n      headerGroups: [],\n      headerGroupsDeps: [],\n      useInstanceBeforeDimensions: [],\n      useInstance: [],\n      useRows: [],\n      prepareRow: [],\n      getTableProps: [],\n      getTableBodyProps: [],\n      getRowProps: [],\n      getHeaderGroupProps: [],\n      getFooterGroupProps: [],\n      getHeaderProps: [],\n      getFooterProps: [],\n      getCellProps: [],\n    },\n  })\n\n  // Allow plugins to register hooks as early as possible\n  plugins.filter(Boolean).forEach(plugin => {\n    plugin(instanceRef.current.hooks)\n  })\n\n  // Snapshot hook and disallow more from being added\n  const getStateReducers = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'stateReducers'\n  )\n\n  // Setup user reducer ref\n  const getUserStateReducer = useGetLatest(userStateReducer)\n\n  // Build the reducer\n  const reducer = React.useCallback(\n    (state, action) => {\n      // Detect invalid actions\n      if (!action.type) {\n        console.info({ action })\n        throw new Error('Unknown Action ðŸ‘†')\n      }\n\n      // Reduce the state from all plugin reducers\n      return [\n        ...getStateReducers(),\n        // Allow the user to add their own state reducer(s)\n        ...(Array.isArray(getUserStateReducer())\n          ? getUserStateReducer()\n          : [getUserStateReducer()]),\n      ].reduce(\n        (s, handler) => handler(s, action, state, instanceRef) || s,\n        state\n      )\n    },\n    [getStateReducers, getUserStateReducer]\n  )\n\n  // Start the reducer\n  const [reducerState, dispatch] = React.useReducer(reducer, undefined, () =>\n    reducer(initialState, { type: actions.init })\n  )\n\n  // Allow the user to control the final state with hooks\n  const state = useControlledState(reducerState)\n\n  Object.assign(instanceRef.current, {\n    state, // The state dispatcher\n    dispatch, // The resolved table state\n  })\n\n  // Snapshot hook and disallow more from being added\n  const getColumns = useConsumeHookGetter(instanceRef.current.hooks, 'columns')\n\n  // Snapshot hook and disallow more from being added\n  const getColumnsDeps = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'columnsDeps'\n  )\n\n  // Decorate All the columns\n  let columns = React.useMemo(\n    () =>\n      applyHooks(\n        getColumns(),\n        decorateColumnTree(userColumns, defaultColumn),\n        instanceRef.current\n      ),\n    [\n      defaultColumn,\n      getColumns,\n      userColumns,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      ...getColumnsDeps(instanceRef.current),\n    ]\n  )\n\n  instanceRef.current.columns = columns\n\n  // Snapshot hook and disallow more from being added\n  const getFlatColumns = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'flatColumns'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getFlatColumnsDeps = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'flatColumnsDeps'\n  )\n\n  // Get the flat list of all columns and allow hooks to decorate\n  // those columns (and trigger this memoization via deps)\n  let flatColumns = React.useMemo(\n    () =>\n      applyHooks(\n        getFlatColumns(),\n        flattenBy(columns, 'columns'),\n        instanceRef.current\n      ),\n    [\n      columns,\n      getFlatColumns,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      ...getFlatColumnsDeps(instanceRef.current),\n    ]\n  )\n\n  instanceRef.current.flatColumns = flatColumns\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderGroups = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'headerGroups'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderGroupsDeps = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'headerGroupsDeps'\n  )\n\n  // Make the headerGroups\n  const headerGroups = React.useMemo(\n    () =>\n      applyHooks(\n        getHeaderGroups(),\n        makeHeaderGroups(flatColumns, defaultColumn),\n        instanceRef.current\n      ),\n    [\n      defaultColumn,\n      flatColumns,\n      getHeaderGroups,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      ...getHeaderGroupsDeps(),\n    ]\n  )\n\n  instanceRef.current.headerGroups = headerGroups\n\n  const headers = React.useMemo(\n    () => (headerGroups.length ? headerGroups[0].headers : []),\n    [headerGroups]\n  )\n\n  instanceRef.current.headers = headers\n\n  // Access the row model\n  const [rows, flatRows] = React.useMemo(() => {\n    let flatRows = []\n\n    // Access the row's data\n    const accessRow = (originalRow, i, depth = 0, parentPath = []) => {\n      // Keep the original reference around\n      const original = originalRow\n\n      const rowId = getRowId(originalRow, i)\n\n      // Make the new path for the row\n      const path = [...parentPath, rowId]\n\n      const row = {\n        original,\n        index: i,\n        path, // used to create a key for each row even if not nested\n        depth,\n        cells: [{}], // This is a dummy cell\n      }\n\n      flatRows.push(row)\n\n      // Process any subRows\n      let subRows = getSubRows(originalRow, i)\n\n      if (subRows) {\n        row.subRows = subRows.map((d, i) => accessRow(d, i, depth + 1, path))\n      }\n\n      // Override common array functions (and the dummy cell's getCellProps function)\n      // to show an error if it is accessed without calling prepareRow\n      const unpreparedAccessWarning = () => {\n        throw new Error(\n          'React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.'\n        )\n      }\n      row.cells.map = unpreparedAccessWarning\n      row.cells.filter = unpreparedAccessWarning\n      row.cells.forEach = unpreparedAccessWarning\n      row.cells[0].getCellProps = unpreparedAccessWarning\n\n      // Create the cells and values\n      row.values = {}\n      flatColumns.forEach(column => {\n        row.values[column.id] = column.accessor\n          ? column.accessor(originalRow, i, { subRows, depth, data })\n          : undefined\n      })\n\n      return row\n    }\n\n    // Use the resolved data\n    const accessedData = data.map((d, i) => accessRow(d, i))\n\n    return [accessedData, flatRows]\n  }, [data, getRowId, getSubRows, flatColumns])\n\n  instanceRef.current.rows = rows\n  instanceRef.current.flatRows = flatRows\n\n  // Provide a flat header list for utilities\n  instanceRef.current.flatHeaders = headerGroups.reduce(\n    (all, headerGroup) => [...all, ...headerGroup.headers],\n    []\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getUseInstanceBeforeDimensions = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'useInstanceBeforeDimensions'\n  )\n\n  instanceRef.current = applyHooks(\n    getUseInstanceBeforeDimensions(),\n    instanceRef.current\n  )\n\n  // Header Visibility is needed by this point\n  calculateDimensions(instanceRef.current)\n\n  // Snapshot hook and disallow more from being added\n  const getUseInstance = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'useInstance'\n  )\n\n  instanceRef.current = applyHooks(getUseInstance(), instanceRef.current)\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getHeaderProps'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getFooterPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getFooterProps'\n  )\n\n  // Each materialized header needs to be assigned a render function and other\n  // prop getter properties here.\n  instanceRef.current.flatHeaders.forEach(column => {\n    // Give columns/headers rendering power\n    column.render = (type, userProps = {}) => {\n      const Comp = typeof type === 'string' ? column[type] : type\n\n      if (typeof Comp === 'undefined') {\n        throw new Error(renderErr)\n      }\n\n      return flexRender(Comp, {\n        ...instanceRef.current,\n        column,\n        ...userProps,\n      })\n    }\n\n    // Give columns/headers a default getHeaderProps\n    column.getHeaderProps = props =>\n      mergeProps(\n        {\n          key: ['header', column.id].join('_'),\n          colSpan: column.totalVisibleHeaderCount,\n        },\n        applyPropHooks(getHeaderPropsHooks(), column, instanceRef.current),\n        props\n      )\n\n    // Give columns/headers a default getFooterProps\n    column.getFooterProps = props =>\n      mergeProps(\n        {\n          key: ['footer', column.id].join('_'),\n          colSpan: column.totalVisibleHeaderCount,\n        },\n        applyPropHooks(getFooterPropsHooks(), column, instanceRef.current),\n        props\n      )\n  })\n\n  // Snapshot hook and disallow more from being added\n  const getHeaderGroupPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getHeaderGroupProps'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getFooterGroupsPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getFooterGroupProps'\n  )\n\n  instanceRef.current.headerGroups = instanceRef.current.headerGroups.filter(\n    (headerGroup, i) => {\n      // Filter out any headers and headerGroups that don't have visible columns\n      headerGroup.headers = headerGroup.headers.filter(column => {\n        const recurse = headers =>\n          headers.filter(column => {\n            if (column.headers) {\n              return recurse(column.headers)\n            }\n            return column.isVisible\n          }).length\n        if (column.headers) {\n          return recurse(column.headers)\n        }\n        return column.isVisible\n      })\n\n      // Give headerGroups getRowProps\n      if (headerGroup.headers.length) {\n        headerGroup.getHeaderGroupProps = (props = {}) =>\n          mergeProps(\n            {\n              key: [`header${i}`].join('_'),\n            },\n            applyPropHooks(\n              getHeaderGroupPropsHooks(),\n              headerGroup,\n              instanceRef.current\n            ),\n            props\n          )\n\n        headerGroup.getFooterGroupProps = (props = {}) =>\n          mergeProps(\n            {\n              key: [`footer${i}`].join('_'),\n            },\n            applyPropHooks(\n              getFooterGroupsPropsHooks(),\n              headerGroup,\n              instanceRef.current\n            ),\n            props\n          )\n\n        return true\n      }\n\n      return false\n    }\n  )\n\n  instanceRef.current.footerGroups = [\n    ...instanceRef.current.headerGroups,\n  ].reverse()\n\n  // Run the rows (this could be a dangerous hook with a ton of data)\n\n  // Snapshot hook and disallow more from being added\n  const getUseRowsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'useRows'\n  )\n\n  instanceRef.current.rows = applyHooks(\n    getUseRowsHooks(),\n    instanceRef.current.rows,\n    instanceRef.current\n  )\n\n  // The prepareRow function is absolutely necessary and MUST be called on\n  // any rows the user wishes to be displayed.\n\n  // Snapshot hook and disallow more from being added\n  const getPrepareRowHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'prepareRow'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getRowPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getRowProps'\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getCellPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getCellProps'\n  )\n\n  instanceRef.current.prepareRow = React.useCallback(\n    row => {\n      row.getRowProps = props =>\n        mergeProps(\n          { key: ['row', ...row.path].join('_') },\n          applyPropHooks(getRowPropsHooks(), row, instanceRef.current),\n          props\n        )\n\n      // Build the visible cells for each row\n      row.cells = instanceRef.current.flatColumns\n        .filter(d => d.isVisible)\n        .map(column => {\n          const cell = {\n            column,\n            row,\n            value: row.values[column.id],\n          }\n\n          // Give each cell a getCellProps base\n          cell.getCellProps = props => {\n            const columnPathStr = [...row.path, column.id].join('_')\n            return mergeProps(\n              {\n                key: ['cell', columnPathStr].join('_'),\n              },\n              applyPropHooks(getCellPropsHooks(), cell, instanceRef.current),\n              props\n            )\n          }\n\n          // Give each cell a renderer function (supports multiple renderers)\n          cell.render = (type, userProps = {}) => {\n            const Comp = typeof type === 'string' ? column[type] : type\n\n            if (typeof Comp === 'undefined') {\n              throw new Error(renderErr)\n            }\n\n            return flexRender(Comp, {\n              ...instanceRef.current,\n              column,\n              row,\n              cell,\n              ...userProps,\n            })\n          }\n\n          return cell\n        })\n\n      // need to apply any row specific hooks (useExpanded requires this)\n      applyHooks(getPrepareRowHooks(), row, instanceRef.current)\n    },\n    [getCellPropsHooks, getPrepareRowHooks, getRowPropsHooks]\n  )\n\n  // Snapshot hook and disallow more from being added\n  const getTablePropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getTableProps'\n  )\n\n  instanceRef.current.getTableProps = userProps =>\n    mergeProps(\n      applyPropHooks(getTablePropsHooks(), instanceRef.current),\n      userProps\n    )\n\n  // Snapshot hook and disallow more from being added\n  const getTableBodyPropsHooks = useConsumeHookGetter(\n    instanceRef.current.hooks,\n    'getTableBodyProps'\n  )\n\n  instanceRef.current.getTableBodyProps = userProps =>\n    mergeProps(\n      applyPropHooks(getTableBodyPropsHooks(), instanceRef.current),\n      userProps\n    )\n\n  return instanceRef.current\n}\n\nfunction calculateDimensions(instance) {\n  const { headers } = instance\n\n  instance.totalColumnsWidth = calculateHeaderWidths(headers)\n}\n\nfunction calculateHeaderWidths(headers, left = 0) {\n  let sumTotalWidth = 0\n\n  headers.forEach(header => {\n    let { headers: subHeaders } = header\n\n    header.totalLeft = left\n\n    if (subHeaders && subHeaders.length) {\n      header.totalWidth = calculateHeaderWidths(subHeaders, left)\n    } else {\n      header.totalWidth = Math.min(\n        Math.max(header.minWidth, header.width),\n        header.maxWidth\n      )\n    }\n    if (header.isVisible) {\n      left += header.totalWidth\n      sumTotalWidth += header.totalWidth\n    }\n  })\n\n  return sumTotalWidth\n}\n","import React from 'react'\n\nimport {\n  actions,\n  mergeProps,\n  applyPropHooks,\n  expandRows,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\n\n// Actions\nactions.toggleExpandedByPath = 'toggleExpandedByPath'\nactions.resetExpanded = 'resetExpanded'\n\nexport const useExpanded = hooks => {\n  hooks.getExpandedToggleProps = []\n\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseExpanded.pluginName = 'useExpanded'\n\n// Reducer\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      expanded: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetExpanded) {\n    return {\n      ...state,\n      expanded: [],\n    }\n  }\n\n  if (action.type === actions.toggleExpandedByPath) {\n    const { path, expanded } = action\n    const key = path.join('.')\n    const exists = state.expanded.includes(key)\n    const shouldExist = typeof expanded !== 'undefined' ? expanded : !exists\n    let newExpanded = new Set(state.expanded)\n\n    if (!exists && shouldExist) {\n      newExpanded.add(key)\n    } else if (exists && !shouldExist) {\n      newExpanded.delete(key)\n    } else {\n      return state\n    }\n\n    return {\n      ...state,\n      expanded: [...newExpanded.values()],\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    manualExpandedKey = 'expanded',\n    paginateExpandedRows = true,\n    expandSubRows = true,\n    hooks,\n    autoResetExpanded = true,\n    state: { expanded },\n    dispatch,\n  } = instance\n\n  const getAutoResetExpanded = useGetLatest(autoResetExpanded)\n\n  // Bypass any effects from firing when this changes\n  useMountedLayoutEffect(() => {\n    if (getAutoResetExpanded()) {\n      dispatch({ type: actions.resetExpanded })\n    }\n  }, [dispatch, data])\n\n  const toggleExpandedByPath = (path, expanded) => {\n    dispatch({ type: actions.toggleExpandedByPath, path, expanded })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  hooks.prepareRow.push(row => {\n    row.toggleExpanded = set => toggleExpandedByPath(row.path, set)\n    row.getExpandedToggleProps = props => {\n      return mergeProps(\n        {\n          onClick: e => {\n            e.persist()\n            row.toggleExpanded()\n          },\n          style: {\n            cursor: 'pointer',\n          },\n          title: 'Toggle Expanded',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getExpandedToggleProps,\n          row,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n    return row\n  })\n\n  const expandedRows = React.useMemo(() => {\n    if (paginateExpandedRows) {\n      return expandRows(rows, { manualExpandedKey, expanded, expandSubRows })\n    }\n\n    return rows\n  }, [paginateExpandedRows, rows, manualExpandedKey, expanded, expandSubRows])\n\n  const expandedDepth = findExpandedDepth(expanded)\n\n  return {\n    ...instance,\n    toggleExpandedByPath,\n    expandedDepth,\n    rows: expandedRows,\n  }\n}\n\nfunction findExpandedDepth(expanded) {\n  let maxDepth = 0\n\n  expanded.forEach(key => {\n    const path = key.split('.')\n    maxDepth = Math.max(maxDepth, path.length)\n  })\n\n  return maxDepth\n}\n","export const text = (rows, id, filterValue) => {\n  rows = rows.filter(row => {\n    const rowValue = row.values[id]\n    return String(rowValue)\n      .toLowerCase()\n      .includes(String(filterValue).toLowerCase())\n  })\n  return rows\n}\n\ntext.autoRemove = val => !val\n\nexport const exactText = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue).toLowerCase() === String(filterValue).toLowerCase()\n      : true\n  })\n}\n\nexactText.autoRemove = val => !val\n\nexport const exactTextCase = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue) === String(filterValue)\n      : true\n  })\n}\n\nexactTextCase.autoRemove = val => !val\n\nexport const includes = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return filterValue.includes(rowValue)\n  })\n}\n\nincludes.autoRemove = val => !val || !val.length\n\nexport const includesAll = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return (\n      rowValue &&\n      rowValue.length &&\n      filterValue.every(val => rowValue.includes(val))\n    )\n  })\n}\n\nincludesAll.autoRemove = val => !val || !val.length\n\nexport const exact = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue === filterValue\n  })\n}\n\nexact.autoRemove = val => typeof val === 'undefined'\n\nexport const equals = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    // eslint-disable-next-line eqeqeq\n    return rowValue == filterValue\n  })\n}\n\nequals.autoRemove = val => val == null\n\nexport const between = (rows, id, filterValue) => {\n  let [min, max] = filterValue || []\n\n  min = typeof min === 'number' ? min : -Infinity\n  max = typeof max === 'number' ? max : Infinity\n\n  if (min > max) {\n    const temp = min\n    min = max\n    max = temp\n  }\n\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue >= min && rowValue <= max\n  })\n}\n\nbetween.autoRemove = val =>\n  !val || (typeof val[0] !== 'number' && typeof val[1] !== 'number')\n","import React from 'react'\n\nimport {\n  actions,\n  getFirstDefined,\n  isFunction,\n  useMountedLayoutEffect,\n  functionalUpdate,\n  useGetLatest,\n} from '../utils'\nimport * as filterTypes from '../filterTypes'\n\n// Actions\nactions.resetFilters = 'resetFilters'\nactions.setFilter = 'setFilter'\nactions.setAllFilters = 'setAllFilters'\n\nexport const useFilters = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseFilters.pluginName = 'useFilters'\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      filters: {},\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetFilters) {\n    return {\n      ...state,\n      filters: {},\n    }\n  }\n\n  if (action.type === actions.setFilter) {\n    const { columnId, filterValue } = action\n    const { flatColumns, userFilterTypes } = instanceRef.current\n    const column = flatColumns.find(d => d.id === columnId)\n\n    if (!column) {\n      throw new Error(\n        `React-Table: Could not find a column with id: ${columnId}`\n      )\n    }\n\n    const filterMethod = getFilterMethod(\n      column.filter,\n      userFilterTypes || {},\n      filterTypes\n    )\n\n    const newFilter = functionalUpdate(filterValue, state.filters[columnId])\n\n    //\n    if (shouldAutoRemove(filterMethod.autoRemove, newFilter)) {\n      const { [columnId]: remove, ...newFilters } = state.filters\n\n      return {\n        ...state,\n        filters: newFilters,\n      }\n    }\n\n    return {\n      ...state,\n      filters: {\n        ...state.filters,\n        [columnId]: newFilter,\n      },\n    }\n  }\n\n  if (action.type === actions.setAllFilters) {\n    const { filters } = action\n    const { flatColumns, filterTypes: userFilterTypes } = instanceRef.current\n    const newFilters = functionalUpdate(filters, state.filters)\n\n    // Filter out undefined values\n    Object.keys(newFilters).forEach(id => {\n      const newFilter = newFilters[id]\n      const column = flatColumns.find(d => d.id === id)\n      const filterMethod = getFilterMethod(\n        column.filter,\n        userFilterTypes || {},\n        filterTypes\n      )\n\n      if (shouldAutoRemove(filterMethod.autoRemove, newFilter)) {\n        delete newFilters[id]\n      }\n    })\n\n    return {\n      ...state,\n      filters: newFilters,\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    flatRows,\n    flatColumns,\n    filterTypes: userFilterTypes,\n    manualFilters,\n    defaultCanFilter = false,\n    disableFilters,\n    state: { filters },\n    dispatch,\n    autoResetFilters = true,\n  } = instance\n\n  const preFilteredRows = rows\n  const preFilteredFlatRows = flatRows\n\n  const setFilter = (columnId, filterValue) => {\n    dispatch({ type: actions.setFilter, columnId, filterValue })\n  }\n\n  const setAllFilters = filters => {\n    dispatch({\n      type: actions.setAllFilters,\n      filters,\n    })\n  }\n\n  flatColumns.forEach(column => {\n    const {\n      id,\n      accessor,\n      defaultCanFilter: columnDefaultCanFilter,\n      disableFilters: columnDisableFilters,\n    } = column\n\n    // Determine if a column is filterable\n    column.canFilter = accessor\n      ? getFirstDefined(\n          columnDisableFilters === true ? false : undefined,\n          disableFilters === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(columnDefaultCanFilter, defaultCanFilter, false)\n\n    // Provide the column a way of updating the filter value\n    column.setFilter = val => setFilter(column.id, val)\n\n    // Provide the current filter value to the column for\n    // convenience\n    column.filterValue = filters[id]\n  })\n\n  // TODO: Create a filter cache for incremental high speed multi-filtering\n  // This gets pretty complicated pretty fast, since you have to maintain a\n  // cache for each row group (top-level rows, and each row's recursive subrows)\n  // This would make multi-filtering a lot faster though. Too far?\n\n  const { filteredRows, filteredFlatRows } = React.useMemo(() => {\n    if (manualFilters || !Object.keys(filters).length) {\n      return {\n        filteredRows: rows,\n        filteredFlatRows: flatRows,\n      }\n    }\n\n    const filteredFlatRows = []\n\n    // Filters top level and nested rows\n    const filterRows = (rows, depth = 0) => {\n      let filteredRows = rows\n\n      filteredRows = Object.entries(filters).reduce(\n        (filteredSoFar, [columnId, filterValue]) => {\n          // Find the filters column\n          const column = flatColumns.find(d => d.id === columnId)\n\n          if (!column) {\n            return filteredSoFar\n          }\n\n          if (depth === 0) {\n            column.preFilteredRows = filteredSoFar\n          }\n\n          const filterMethod = getFilterMethod(\n            column.filter,\n            userFilterTypes || {},\n            filterTypes\n          )\n\n          if (!filterMethod) {\n            console.warn(\n              `Could not find a valid 'column.filter' for column with the ID: ${column.id}.`\n            )\n            return filteredSoFar\n          }\n\n          // Pass the rows, id, filterValue and column to the filterMethod\n          // to get the filtered rows back\n          column.filteredRows = filterMethod(\n            filteredSoFar,\n            columnId,\n            filterValue,\n            column\n          )\n\n          return column.filteredRows\n        },\n        rows\n      )\n\n      // Apply the filter to any subRows\n      // We technically could do this recursively in the above loop,\n      // but that would severely hinder the API for the user, since they\n      // would be required to do that recursion in some scenarios\n      filteredRows = filteredRows.map(row => {\n        filteredFlatRows.push(row)\n        if (!row.subRows) {\n          return row\n        }\n        return {\n          ...row,\n          subRows:\n            row.subRows && row.subRows.length > 0\n              ? filterRows(row.subRows, depth + 1)\n              : row.subRows,\n        }\n      })\n\n      return filteredRows\n    }\n\n    return {\n      filteredRows: filterRows(rows),\n      filteredFlatRows,\n    }\n  }, [manualFilters, filters, rows, flatRows, flatColumns, userFilterTypes])\n\n  React.useMemo(() => {\n    // Now that each filtered column has it's partially filtered rows,\n    // lets assign the final filtered rows to all of the other columns\n    const nonFilteredColumns = flatColumns.filter(\n      column => !Object.keys(filters).includes(column.id)\n    )\n\n    // This essentially enables faceted filter options to be built easily\n    // using every column's preFilteredRows value\n    nonFilteredColumns.forEach(column => {\n      column.preFilteredRows = filteredRows\n      column.filteredRows = filteredRows\n    })\n  }, [filteredRows, filters, flatColumns])\n\n  const getAutoResetFilters = useGetLatest(autoResetFilters)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetFilters()) {\n      dispatch({ type: actions.resetFilters })\n    }\n  }, [dispatch, manualFilters ? null : data])\n\n  return {\n    ...instance,\n    setFilter,\n    setAllFilters,\n    preFilteredRows,\n    preFilteredFlatRows,\n    rows: filteredRows,\n    flatRows: filteredFlatRows,\n  }\n}\n\nfunction shouldAutoRemove(autoRemove, value) {\n  return autoRemove ? autoRemove(value) : typeof value === 'undefined'\n}\n\nfunction getFilterMethod(filter, userFilterTypes, filterTypes) {\n  return (\n    isFunction(filter) ||\n    userFilterTypes[filter] ||\n    filterTypes[filter] ||\n    filterTypes.text\n  )\n}\n","export function sum(values, rows) {\n  return values.reduce((sum, next) => sum + next, 0)\n}\n\nexport function average(values, rows) {\n  return Math.round((sum(values, rows) / values.length) * 100) / 100\n}\n\nexport function median(values) {\n  values = values.length ? values : [0]\n  let min = Math.min(...values)\n  let max = Math.max(...values)\n\n  return (min + max) / 2\n}\n\nexport function uniqueCount(values) {\n  return new Set(values).size\n}\n\nexport function count(values) {\n  return values.length\n}\n","import React from 'react'\n\nimport * as aggregations from '../aggregations'\nimport {\n  actions,\n  mergeProps,\n  applyPropHooks,\n  defaultGroupByFn,\n  getFirstDefined,\n  ensurePluginOrder,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\n\n// Actions\nactions.resetGroupBy = 'resetGroupBy'\nactions.toggleGroupBy = 'toggleGroupBy'\n\nexport const useGroupBy = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.flatColumnsDeps.push((deps, instance) => [\n    ...deps,\n    instance.state.groupBy,\n  ])\n  hooks.flatColumns.push(flatColumns)\n  hooks.useInstance.push(useInstance)\n}\n\nuseGroupBy.pluginName = 'useGroupBy'\n\n// Reducer\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      groupBy: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetGroupBy) {\n    return {\n      ...state,\n      groupBy: [],\n    }\n  }\n\n  if (action.type === actions.toggleGroupBy) {\n    const { columnId, toggle } = action\n\n    const resolvedToggle =\n      typeof toggle !== 'undefined' ? toggle : !state.groupBy.includes(columnId)\n\n    if (resolvedToggle) {\n      return {\n        ...state,\n        groupBy: [...state.groupBy, columnId],\n      }\n    }\n\n    return {\n      ...state,\n      groupBy: state.groupBy.filter(d => d !== columnId),\n    }\n  }\n}\n\nfunction flatColumns(flatColumns, { state: { groupBy } }) {\n  // Sort grouped columns to the start of the column list\n  // before the headers are built\n\n  const groupByColumns = groupBy.map(g => flatColumns.find(col => col.id === g))\n  const nonGroupByColumns = flatColumns.filter(col => !groupBy.includes(col.id))\n\n  // If a groupByBoundary column is found, place the groupBy's after it\n  const groupByBoundaryColumnIndex =\n    flatColumns.findIndex(column => column.groupByBoundary) + 1\n\n  return [\n    ...nonGroupByColumns.slice(0, groupByBoundaryColumnIndex),\n    ...groupByColumns,\n    ...nonGroupByColumns.slice(groupByBoundaryColumnIndex),\n  ]\n}\n\nconst defaultUserAggregations = {}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    flatRows,\n    flatColumns,\n    flatHeaders,\n    groupByFn = defaultGroupByFn,\n    manualGroupBy,\n    defaultCanGroupBy,\n    disableGroupBy,\n    aggregations: userAggregations = defaultUserAggregations,\n    hooks,\n    plugins,\n    state: { groupBy },\n    dispatch,\n    autoResetGroupBy = true,\n    manaulGroupBy,\n  } = instance\n\n  ensurePluginOrder(plugins, [], 'useGroupBy', ['useSortBy', 'useExpanded'])\n\n  flatColumns.forEach(column => {\n    const {\n      id,\n      accessor,\n      defaultGroupBy: defaultColumnGroupBy,\n      disableGroupBy: columnDisableGroupBy,\n    } = column\n    column.isGrouped = groupBy.includes(id)\n    column.groupedIndex = groupBy.indexOf(id)\n\n    column.canGroupBy = accessor\n      ? getFirstDefined(\n          columnDisableGroupBy === true ? false : undefined,\n          disableGroupBy === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(defaultColumnGroupBy, defaultCanGroupBy, false)\n\n    if (column.canGroupBy) {\n      column.toggleGroupBy = () => toggleGroupBy(column.id)\n    }\n\n    column.Aggregated = column.Aggregated || column.Cell\n  })\n\n  const toggleGroupBy = (columnId, toggle) => {\n    dispatch({ type: actions.toggleGroupBy, columnId, toggle })\n  }\n\n  hooks.getGroupByToggleProps = []\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  flatHeaders.forEach(header => {\n    const { canGroupBy } = header\n    header.getGroupByToggleProps = props => {\n      return mergeProps(\n        {\n          onClick: canGroupBy\n            ? e => {\n                e.persist()\n                header.toggleGroupBy()\n              }\n            : undefined,\n          style: {\n            cursor: canGroupBy ? 'pointer' : undefined,\n          },\n          title: 'Toggle GroupBy',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getGroupByToggleProps,\n          header,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n  })\n\n  hooks.prepareRow.push(row => {\n    row.cells.forEach(cell => {\n      // Grouped cells are in the groupBy and the pivot cell for the row\n      cell.isGrouped = cell.column.isGrouped && cell.column.id === row.groupByID\n      // Repeated cells are any columns in the groupBy that are not grouped\n      cell.isRepeatedValue = !cell.isGrouped && cell.column.isGrouped\n      // Aggregated cells are not grouped, not repeated, but still have subRows\n      cell.isAggregated =\n        !cell.isGrouped && !cell.isRepeatedValue && row.canExpand\n    })\n    return row\n  })\n\n  const [groupedRows, groupedFlatRows] = React.useMemo(() => {\n    if (manualGroupBy || !groupBy.length) {\n      return [rows, flatRows]\n    }\n\n    // Find the columns that can or are aggregating\n    // Uses each column to aggregate rows into a single value\n    const aggregateRowsToValues = (rows, isAggregated) => {\n      const values = {}\n\n      flatColumns.forEach(column => {\n        // Don't aggregate columns that are in the groupBy\n        if (groupBy.includes(column.id)) {\n          values[column.id] = rows[0] ? rows[0].values[column.id] : null\n          return\n        }\n\n        const columnValues = rows.map(d => d.values[column.id])\n\n        let aggregator = column.aggregate\n\n        if (Array.isArray(aggregator)) {\n          if (aggregator.length !== 2) {\n            console.info({ column })\n            throw new Error(\n              `React Table: Complex aggregators must have 2 values, eg. aggregate: ['sum', 'count']. More info above...`\n            )\n          }\n          if (isAggregated) {\n            aggregator = aggregator[1]\n          } else {\n            aggregator = aggregator[0]\n          }\n        }\n\n        let aggregateFn =\n          typeof aggregator === 'function'\n            ? aggregator\n            : userAggregations[aggregator] || aggregations[aggregator]\n\n        if (aggregateFn) {\n          values[column.id] = aggregateFn(columnValues, rows, isAggregated)\n        } else if (aggregator) {\n          console.info({ column })\n          throw new Error(\n            `React Table: Invalid aggregate option for column listed above`\n          )\n        } else {\n          values[column.id] = null\n        }\n      })\n      return values\n    }\n\n    let groupedFlatRows = []\n\n    // Recursively group the data\n    const groupRecursively = (rows, depth = 0, parentPath = []) => {\n      // This is the last level, just return the rows\n      if (depth >= groupBy.length) {\n        rows.forEach(row => {\n          row.path = [...parentPath, ...row.path]\n        })\n        groupedFlatRows = groupedFlatRows.concat(rows)\n        return rows\n      }\n\n      const columnId = groupBy[depth]\n\n      // Group the rows together for this level\n      let groupedRows = groupByFn(rows, columnId)\n\n      // Recurse to sub rows before aggregation\n      groupedRows = Object.entries(groupedRows).map(\n        ([groupByVal, subRows], index) => {\n          const path = [...parentPath, `${columnId}:${groupByVal}`]\n\n          subRows = groupRecursively(subRows, depth + 1, path)\n\n          const values = aggregateRowsToValues(subRows, depth < groupBy.length)\n\n          const row = {\n            isAggregated: true,\n            groupByID: columnId,\n            groupByVal,\n            values,\n            subRows,\n            depth,\n            index,\n            path,\n          }\n\n          groupedFlatRows.push(row)\n\n          return row\n        }\n      )\n\n      return groupedRows\n    }\n\n    const groupedRows = groupRecursively(rows)\n\n    // Assign the new data\n    return [groupedRows, groupedFlatRows]\n  }, [\n    manualGroupBy,\n    groupBy,\n    rows,\n    flatRows,\n    flatColumns,\n    userAggregations,\n    groupByFn,\n  ])\n\n  const getAutoResetGroupBy = useGetLatest(autoResetGroupBy)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetGroupBy()) {\n      dispatch({ type: actions.resetGroupBy })\n    }\n  }, [dispatch, manaulGroupBy ? null : data])\n\n  return {\n    ...instance,\n    toggleGroupBy,\n    rows: groupedRows,\n    flatRows: groupedFlatRows,\n    preGroupedRows: rows,\n  }\n}\n","const reSplitAlphaNumeric = /([0-9]+)/gm\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nexport const alphanumeric = (rowA, rowB, columnId) => {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n  // Force to strings (or \"\" for unsupported types)\n  a = toString(a)\n  b = toString(b)\n\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  a = a.split(reSplitAlphaNumeric).filter(Boolean)\n  b = b.split(reSplitAlphaNumeric).filter(Boolean)\n\n  // While\n  while (a.length && b.length) {\n    let aa = a.shift()\n    let bb = b.shift()\n\n    const an = parseInt(aa, 10)\n    const bn = parseInt(bb, 10)\n\n    const combo = [an, bn].sort()\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1\n      }\n      if (bb > aa) {\n        return -1\n      }\n      continue\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1\n    }\n    if (bn > an) {\n      return -1\n    }\n  }\n\n  return a.length - b.length\n}\n\nexport function datetime(rowA, rowB, columnId) {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n\n  a = a.getTime()\n  b = b.getTime()\n\n  return compareBasic(a, b)\n}\n\nexport function basic(rowA, rowB, columnId) {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n\n  return compareBasic(a, b)\n}\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1\n}\n\nfunction getRowValueByColumnID(row, columnId) {\n  return row.values[columnId]\n}\n\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return ''\n    }\n    return String(a)\n  }\n  if (typeof a === 'string') {\n    return a\n  }\n  return ''\n}\n","import React from 'react'\n\nimport {\n  actions,\n  ensurePluginOrder,\n  defaultColumn,\n  mergeProps,\n  applyPropHooks,\n  getFirstDefined,\n  defaultOrderByFn,\n  isFunction,\n  useGetLatest,\n  useMountedLayoutEffect,\n} from '../utils'\n\nimport * as sortTypes from '../sortTypes'\n\n// Actions\nactions.resetSortBy = 'resetSortBy'\nactions.toggleSortBy = 'toggleSortBy'\nactions.clearSortBy = 'clearSortBy'\n\ndefaultColumn.sortType = 'alphanumeric'\ndefaultColumn.sortDescFirst = false\n\nexport const useSortBy = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseSortBy.pluginName = 'useSortBy'\n\n// Reducer\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      sortBy: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetSortBy) {\n    return {\n      ...state,\n      sortBy: [],\n    }\n  }\n\n  if (action.type === actions.clearSortBy) {\n    const { sortBy } = state\n    const newSortBy = sortBy.filter(d => d.id !== action.columnId)\n\n    return {\n      ...state,\n      sortBy: newSortBy,\n    }\n  }\n\n  if (action.type === actions.toggleSortBy) {\n    const { columnId, desc, multi } = action\n\n    const {\n      flatColumns,\n      disableMultiSort,\n      disableSortRemove,\n      disableMultiRemove,\n      maxMultiSortColCount = Number.MAX_SAFE_INTEGER,\n    } = instanceRef.current\n\n    const { sortBy } = state\n\n    // Find the column for this columnId\n    const column = flatColumns.find(d => d.id === columnId)\n    const { sortDescFirst } = column\n\n    // Find any existing sortBy for this column\n    const existingSortBy = sortBy.find(d => d.id === columnId)\n    const existingIndex = sortBy.findIndex(d => d.id === columnId)\n    const hasDescDefined = typeof desc !== 'undefined' && desc !== null\n\n    let newSortBy = []\n\n    // What should we do with this sort action?\n    let sortAction\n\n    if (!disableMultiSort && multi) {\n      if (existingSortBy) {\n        sortAction = 'toggle'\n      } else {\n        sortAction = 'add'\n      }\n    } else {\n      // Normal mode\n      if (existingIndex !== sortBy.length - 1) {\n        sortAction = 'replace'\n      } else if (existingSortBy) {\n        sortAction = 'toggle'\n      } else {\n        sortAction = 'replace'\n      }\n    }\n\n    // Handle toggle states that will remove the sortBy\n    if (\n      sortAction === 'toggle' && // Must be toggling\n      !disableSortRemove && // If disableSortRemove, disable in general\n      !hasDescDefined && // Must not be setting desc\n      (multi ? !disableMultiRemove : true) && // If multi, don't allow if disableMultiRemove\n      ((existingSortBy && // Finally, detect if it should indeed be removed\n        existingSortBy.desc &&\n        !sortDescFirst) ||\n        (!existingSortBy.desc && sortDescFirst))\n    ) {\n      sortAction = 'remove'\n    }\n\n    if (sortAction === 'replace') {\n      newSortBy = [\n        {\n          id: columnId,\n          desc: hasDescDefined ? desc : sortDescFirst,\n        },\n      ]\n    } else if (sortAction === 'add') {\n      newSortBy = [\n        ...sortBy,\n        {\n          id: columnId,\n          desc: hasDescDefined ? desc : sortDescFirst,\n        },\n      ]\n      // Take latest n columns\n      newSortBy.splice(0, newSortBy.length - maxMultiSortColCount)\n    } else if (sortAction === 'toggle') {\n      // This flips (or sets) the\n      newSortBy = sortBy.map(d => {\n        if (d.id === columnId) {\n          return {\n            ...d,\n            desc: hasDescDefined ? desc : !existingSortBy.desc,\n          }\n        }\n        return d\n      })\n    } else if (sortAction === 'remove') {\n      newSortBy = sortBy.filter(d => d.id !== columnId)\n    }\n\n    return {\n      ...state,\n      sortBy: newSortBy,\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    rows,\n    flatColumns,\n    orderByFn = defaultOrderByFn,\n    sortTypes: userSortTypes,\n    manualSortBy,\n    defaultCanSort,\n    disableSortBy,\n    isMultiSortEvent = e => e.shiftKey,\n    flatHeaders,\n    hooks,\n    state: { sortBy },\n    dispatch,\n    plugins,\n    autoResetSortBy = true,\n  } = instance\n\n  ensurePluginOrder(plugins, ['useFilters'], 'useSortBy', [])\n  // Add custom hooks\n  hooks.getSortByToggleProps = []\n\n  // Updates sorting based on a columnId, desc flag and multi flag\n  const toggleSortBy = (columnId, desc, multi) => {\n    dispatch({ type: actions.toggleSortBy, columnId, desc, multi })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const getInstance = useGetLatest(instance)\n\n  // Add the getSortByToggleProps method to columns and headers\n  flatHeaders.forEach(column => {\n    const {\n      accessor,\n      canSort: defaultColumnCanSort,\n      disableSortBy: columnDisableSortBy,\n      id,\n    } = column\n\n    const canSort = accessor\n      ? getFirstDefined(\n          columnDisableSortBy === true ? false : undefined,\n          disableSortBy === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(defaultCanSort, defaultColumnCanSort, false)\n\n    column.canSort = canSort\n\n    if (column.canSort) {\n      column.toggleSortBy = (desc, multi) =>\n        toggleSortBy(column.id, desc, multi)\n\n      column.clearSortBy = () => {\n        dispatch({ type: actions.clearSortBy, columnId: column.id })\n      }\n    }\n\n    column.getSortByToggleProps = props => {\n      return mergeProps(\n        {\n          onClick: canSort\n            ? e => {\n                e.persist()\n                column.toggleSortBy(\n                  undefined,\n                  !getInstance().disableMultiSort && isMultiSortEvent(e)\n                )\n              }\n            : undefined,\n          style: {\n            cursor: canSort ? 'pointer' : undefined,\n          },\n          title: canSort ? 'Toggle SortBy' : undefined,\n        },\n        applyPropHooks(\n          getInstance().hooks.getSortByToggleProps,\n          column,\n          getInstance()\n        ),\n        props\n      )\n    }\n\n    const columnSort = sortBy.find(d => d.id === id)\n    column.isSorted = !!columnSort\n    column.sortedIndex = sortBy.findIndex(d => d.id === id)\n    column.isSortedDesc = column.isSorted ? columnSort.desc : undefined\n  })\n\n  const sortedRows = React.useMemo(() => {\n    if (manualSortBy || !sortBy.length) {\n      return rows\n    }\n\n    // Filter out sortBys that correspond to non existing columns\n    const availableSortBy = sortBy.filter(sort =>\n      flatColumns.find(col => col.id === sort.id)\n    )\n\n    const sortData = rows => {\n      // Use the orderByFn to compose multiple sortBy's together.\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = orderByFn(\n        rows,\n        availableSortBy.map(sort => {\n          // Support custom sorting methods for each column\n          const column = flatColumns.find(d => d.id === sort.id)\n\n          if (!column) {\n            throw new Error(\n              `React-Table: Could not find a column with id: ${sort.id} while sorting`\n            )\n          }\n\n          const { sortType } = column\n\n          // Look up sortBy functions in this order:\n          // column function\n          // column string lookup on user sortType\n          // column string lookup on built-in sortType\n          // default function\n          // default string lookup on user sortType\n          // default string lookup on built-in sortType\n          const sortMethod =\n            isFunction(sortType) ||\n            (userSortTypes || {})[sortType] ||\n            sortTypes[sortType]\n\n          if (!sortMethod) {\n            throw new Error(\n              `React-Table: Could not find a valid sortType of '${sortType}' for column '${sort.id}'.`\n            )\n          }\n\n          // Return the correct sortFn.\n          // This function should always return in ascending order\n          return (a, b) => sortMethod(a, b, sort.id)\n        }),\n        // Map the directions\n        availableSortBy.map(sort => {\n          // Detect and use the sortInverted option\n          const column = flatColumns.find(d => d.id === sort.id)\n\n          if (column && column.sortInverted) {\n            return sort.desc\n          }\n\n          return !sort.desc\n        })\n      )\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        if (!row.subRows || row.subRows.length <= 1) {\n          return\n        }\n        row.subRows = sortData(row.subRows)\n      })\n\n      return sortedData\n    }\n\n    return sortData(rows)\n  }, [manualSortBy, sortBy, rows, flatColumns, orderByFn, userSortTypes])\n\n  const getAutoResetSortBy = useGetLatest(autoResetSortBy)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetSortBy()) {\n      dispatch({ type: actions.resetSortBy })\n    }\n  }, [manualSortBy ? null : data])\n\n  return {\n    ...instance,\n    toggleSortBy,\n    rows: sortedRows,\n    preSortedRows: rows,\n  }\n}\n","import React from 'react'\n\n//\n\nimport {\n  actions,\n  ensurePluginOrder,\n  expandRows,\n  functionalUpdate,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\n\nconst pluginName = 'usePagination'\n\n// Actions\nactions.resetPage = 'resetPage'\nactions.gotoPage = 'gotoPage'\nactions.setPageSize = 'setPageSize'\n\nexport const usePagination = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nusePagination.pluginName = pluginName\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      pageSize: 10,\n      pageIndex: 0,\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetPage) {\n    return {\n      ...state,\n      pageIndex: 0,\n    }\n  }\n\n  if (action.type === actions.gotoPage) {\n    const { pageCount } = instanceRef.current\n    const newPageIndex = functionalUpdate(action.pageIndex, state.pageIndex)\n\n    if (newPageIndex < 0 || newPageIndex > pageCount - 1) {\n      return state\n    }\n    return {\n      ...state,\n      pageIndex: newPageIndex,\n    }\n  }\n\n  if (action.type === actions.setPageSize) {\n    const { pageSize } = action\n    const topRowIndex = state.pageSize * state.pageIndex\n    const pageIndex = Math.floor(topRowIndex / pageSize)\n\n    return {\n      ...state,\n      pageIndex,\n      pageSize,\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    rows,\n    autoResetPage = true,\n    manualExpandedKey = 'expanded',\n    plugins,\n    pageCount: userPageCount,\n    paginateExpandedRows = true,\n    expandSubRows = true,\n    state: { pageSize, pageIndex, expanded, filters, groupBy, sortBy },\n    dispatch,\n    data,\n    manualPagination,\n    manualFilters,\n    manualGroupBy,\n    manualSortBy,\n  } = instance\n\n  ensurePluginOrder(\n    plugins,\n    ['useFilters', 'useGroupBy', 'useSortBy', 'useExpanded'],\n    'usePagination',\n    []\n  )\n\n  const getAutoResetPage = useGetLatest(autoResetPage)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetPage()) {\n      dispatch({ type: actions.resetPage })\n    }\n  }, [\n    dispatch,\n    manualPagination ? null : data,\n    manualPagination || manualFilters ? null : filters,\n    manualPagination || manualGroupBy ? null : groupBy,\n    manualPagination || manualSortBy ? null : sortBy,\n  ])\n\n  const pageCount = manualPagination\n    ? userPageCount\n    : Math.ceil(rows.length / pageSize)\n\n  const pageOptions = React.useMemo(\n    () => (pageCount > 0 ? [...new Array(pageCount)].map((d, i) => i) : []),\n    [pageCount]\n  )\n\n  const page = React.useMemo(() => {\n    let page\n\n    if (manualPagination) {\n      page = rows\n    } else {\n      const pageStart = pageSize * pageIndex\n      const pageEnd = pageStart + pageSize\n\n      page = rows.slice(pageStart, pageEnd)\n    }\n\n    if (paginateExpandedRows) {\n      return page\n    }\n\n    return expandRows(page, { manualExpandedKey, expanded, expandSubRows })\n  }, [\n    expandSubRows,\n    expanded,\n    manualExpandedKey,\n    manualPagination,\n    pageIndex,\n    pageSize,\n    paginateExpandedRows,\n    rows,\n  ])\n\n  const canPreviousPage = pageIndex > 0\n  const canNextPage = pageCount === -1 || pageIndex < pageCount - 1\n\n  const gotoPage = React.useCallback(\n    pageIndex => {\n      dispatch({ type: actions.gotoPage, pageIndex })\n    },\n    [dispatch]\n  )\n\n  const previousPage = React.useCallback(() => {\n    return gotoPage(old => old - 1)\n  }, [gotoPage])\n\n  const nextPage = React.useCallback(() => {\n    return gotoPage(old => old + 1)\n  }, [gotoPage])\n\n  const setPageSize = React.useCallback(\n    pageSize => {\n      dispatch({ type: actions.setPageSize, pageSize })\n    },\n    [dispatch]\n  )\n\n  return {\n    ...instance,\n    pageOptions,\n    pageCount,\n    page,\n    canPreviousPage,\n    canNextPage,\n    gotoPage,\n    previousPage,\n    nextPage,\n    setPageSize,\n    pageIndex,\n    pageSize,\n  }\n}\n","import React from 'react'\n\nimport {\n  actions,\n  mergeProps,\n  applyPropHooks,\n  ensurePluginOrder,\n  useGetLatest,\n  useMountedLayoutEffect,\n} from '../utils'\n\nconst pluginName = 'useRowSelect'\n\n// Actions\nactions.resetSelectedRows = 'resetSelectedRows'\nactions.toggleRowSelectedAll = 'toggleRowSelectedAll'\nactions.toggleRowSelected = 'toggleRowSelected'\n\nexport const useRowSelect = hooks => {\n  hooks.getToggleRowSelectedProps = []\n  hooks.getToggleAllRowsSelectedProps = []\n\n  hooks.stateReducers.push(reducer)\n  hooks.useRows.push(useRows)\n  hooks.useInstance.push(useInstance)\n}\n\nuseRowSelect.pluginName = pluginName\n\nfunction reducer(state, action, previousState, instanceRef) {\n  if (action.type === actions.init) {\n    return {\n      selectedRowPaths: new Set(),\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetSelectedRows) {\n    return {\n      ...state,\n      selectedRowPaths: new Set(),\n    }\n  }\n\n  if (action.type === actions.toggleRowSelectedAll) {\n    const { selected } = action\n    const { isAllRowsSelected, flatRowPaths } = instanceRef.current\n\n    const selectAll =\n      typeof selected !== 'undefined' ? selected : !isAllRowsSelected\n\n    return {\n      ...state,\n      selectedRowPaths: selectAll ? new Set(flatRowPaths) : new Set(),\n    }\n  }\n\n  if (action.type === actions.toggleRowSelected) {\n    const { path, selected } = action\n    const { flatRowPaths } = instanceRef.current\n\n    const key = path.join('.')\n    const childRowPrefixKey = [key, '.'].join('')\n\n    // Join the paths of deep rows\n    // to make a key, then manage all of the keys\n    // in a flat object\n    const exists = state.selectedRowPaths.has(key)\n    const shouldExist = typeof set !== 'undefined' ? selected : !exists\n\n    let newSelectedRowPaths = new Set(state.selectedRowPaths)\n\n    if (!exists && shouldExist) {\n      flatRowPaths.forEach(rowPath => {\n        if (rowPath === key || rowPath.startsWith(childRowPrefixKey)) {\n          newSelectedRowPaths.add(rowPath)\n        }\n      })\n    } else if (exists && !shouldExist) {\n      flatRowPaths.forEach(rowPath => {\n        if (rowPath === key || rowPath.startsWith(childRowPrefixKey)) {\n          newSelectedRowPaths.delete(rowPath)\n        }\n      })\n    } else {\n      return state\n    }\n\n    const updateParentRow = (selectedRowPaths, path) => {\n      const parentPath = path.slice(0, path.length - 1)\n      const parentKey = parentPath.join('.')\n      const selected =\n        flatRowPaths.filter(rowPath => {\n          const path = rowPath\n          return (\n            path !== parentKey &&\n            path.startsWith(parentKey) &&\n            !selectedRowPaths.has(path)\n          )\n        }).length === 0\n      if (selected) {\n        selectedRowPaths.add(parentKey)\n      } else {\n        selectedRowPaths.delete(parentKey)\n      }\n      if (parentPath.length > 1) updateParentRow(selectedRowPaths, parentPath)\n    }\n\n    // If the row is a subRow update\n    // its parent row to reflect changes\n    if (path.length > 1) updateParentRow(newSelectedRowPaths, path)\n\n    return {\n      ...state,\n      selectedRowPaths: newSelectedRowPaths,\n    }\n  }\n}\n\nfunction useRows(rows, instance) {\n  const {\n    state: { selectedRowPaths },\n  } = instance\n\n  instance.selectedFlatRows = React.useMemo(() => {\n    const selectedFlatRows = []\n\n    rows.forEach(row => {\n      row.isSelected = getRowIsSelected(row, selectedRowPaths)\n\n      if (row.isSelected) {\n        selectedFlatRows.push(row)\n      }\n    })\n\n    return selectedFlatRows\n  }, [rows, selectedRowPaths])\n\n  return rows\n}\n\nfunction useInstance(instance) {\n  const {\n    data,\n    hooks,\n    manualRowSelectedKey = 'isSelected',\n    plugins,\n    flatRows,\n    autoResetSelectedRows = true,\n    state: { selectedRowPaths },\n    dispatch,\n  } = instance\n\n  ensurePluginOrder(\n    plugins,\n    ['useFilters', 'useGroupBy', 'useSortBy'],\n    'useRowSelect',\n    []\n  )\n\n  const flatRowPaths = flatRows.map(d => d.path.join('.'))\n\n  let isAllRowsSelected = !!flatRowPaths.length && !!selectedRowPaths.size\n\n  if (isAllRowsSelected) {\n    if (flatRowPaths.some(d => !selectedRowPaths.has(d))) {\n      isAllRowsSelected = false\n    }\n  }\n\n  const getAutoResetSelectedRows = useGetLatest(autoResetSelectedRows)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetSelectedRows()) {\n      dispatch({ type: actions.resetSelectedRows })\n    }\n  }, [dispatch, data])\n\n  const toggleRowSelectedAll = selected =>\n    dispatch({ type: actions.toggleRowSelectedAll, selected })\n\n  const toggleRowSelected = (path, selected) =>\n    dispatch({ type: actions.toggleRowSelected, path, selected })\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  const getToggleAllRowsSelectedProps = props => {\n    return mergeProps(\n      {\n        onChange: e => {\n          toggleRowSelectedAll(e.target.checked)\n        },\n        style: {\n          cursor: 'pointer',\n        },\n        checked: isAllRowsSelected,\n        title: 'Toggle All Rows Selected',\n      },\n      applyPropHooks(\n        instanceRef.current.hooks.getToggleAllRowsSelectedProps,\n        instanceRef.current\n      ),\n      props\n    )\n  }\n\n  hooks.prepareRow.push(row => {\n    row.toggleRowSelected = set => toggleRowSelected(row.path, set)\n    row.getToggleRowSelectedProps = props => {\n      let checked = false\n\n      if (row.original && row.original[manualRowSelectedKey]) {\n        checked = true\n      } else {\n        checked = row.isSelected\n      }\n\n      return mergeProps(\n        {\n          onChange: e => {\n            row.toggleRowSelected(e.target.checked)\n          },\n          style: {\n            cursor: 'pointer',\n          },\n          checked,\n          title: 'Toggle Row Selected',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getToggleRowSelectedProps,\n          row,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n\n    return row\n  })\n\n  return {\n    ...instance,\n    flatRowPaths,\n    toggleRowSelected,\n    toggleRowSelectedAll,\n    getToggleAllRowsSelectedProps,\n    isAllRowsSelected,\n  }\n}\n\nfunction getRowIsSelected(row, selectedRowPaths) {\n  if (row.isAggregated) {\n    return row.subRows.every(subRow =>\n      getRowIsSelected(subRow, selectedRowPaths)\n    )\n  }\n\n  return selectedRowPaths.has(row.path.join('.'))\n}\n","import React from 'react'\n\nimport {\n  actions,\n  functionalUpdate,\n  useMountedLayoutEffect,\n  useGetLatest,\n} from '../utils'\n\n// Actions\nactions.setRowState = 'setRowState'\nactions.resetRowState = 'resetRowState'\n\nexport const useRowState = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstance.push(useInstance)\n}\n\nuseRowState.pluginName = 'useRowState'\n\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      rowState: {},\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetRowState) {\n    return {\n      ...state,\n      rowState: {},\n    }\n  }\n\n  if (action.type === actions.setRowState) {\n    const { path, value } = action\n\n    const pathKey = path.join('.')\n\n    return {\n      ...state,\n      rowState: {\n        ...state.rowState,\n        [pathKey]: functionalUpdate(value, state.rowState[pathKey] || {}),\n      },\n    }\n  }\n}\n\nfunction useInstance(instance) {\n  const {\n    hooks,\n    initialRowStateAccessor,\n    autoResetRowState = true,\n    state: { rowState },\n    data,\n    dispatch,\n  } = instance\n\n  const setRowState = React.useCallback(\n    (path, value, columnId) =>\n      dispatch({\n        type: actions.setRowState,\n        path,\n        value,\n        columnId,\n      }),\n    [dispatch]\n  )\n\n  const setCellState = React.useCallback(\n    (rowPath, columnId, value) => {\n      return setRowState(\n        rowPath,\n        old => {\n          return {\n            ...old,\n            cellState: {\n              ...old.cellState,\n              [columnId]: functionalUpdate(\n                value,\n                (old.cellState || {})[columnId] || {}\n              ),\n            },\n          }\n        },\n        columnId\n      )\n    },\n    [setRowState]\n  )\n\n  const getAutoResetRowState = useGetLatest(autoResetRowState)\n\n  useMountedLayoutEffect(() => {\n    if (getAutoResetRowState()) {\n      dispatch({ type: actions.resetRowState })\n    }\n  }, [data])\n\n  hooks.prepareRow.push(row => {\n    const pathKey = row.path.join('.')\n\n    if (row.original) {\n      row.state =\n        (typeof rowState[pathKey] !== 'undefined'\n          ? rowState[pathKey]\n          : initialRowStateAccessor && initialRowStateAccessor(row)) || {}\n\n      row.setState = updater => {\n        return setRowState(row.path, updater)\n      }\n\n      row.cells.forEach(cell => {\n        cell.state = row.state.cellState || {}\n\n        cell.setState = updater => {\n          return setCellState(row.path, cell.column.id, updater)\n        }\n      })\n    }\n\n    return row\n  })\n\n  return {\n    ...instance,\n    setRowState,\n    setCellState,\n  }\n}\n","import React from 'react'\n\nimport { functionalUpdate, actions } from '../utils'\n\n// Actions\nactions.resetColumnOrder = 'resetColumnOrder'\nactions.setColumnOrder = 'setColumnOrder'\n\nexport const useColumnOrder = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.flatColumnsDeps.push((deps, instance) => {\n    return [...deps, instance.state.columnOrder]\n  })\n  hooks.flatColumns.push(flatColumns)\n  hooks.useInstance.push(useInstance)\n}\n\nuseColumnOrder.pluginName = 'useColumnOrder'\n\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      columnOrder: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetColumnOrder) {\n    return {\n      ...state,\n      columnOrder: [],\n    }\n  }\n\n  if (action.type === actions.setColumnOrder) {\n    return {\n      ...state,\n      columnOrder: functionalUpdate(action.columnOrder, state.columnOrder),\n    }\n  }\n}\n\nfunction flatColumns(columns, instance) {\n  const {\n    state: { columnOrder },\n  } = instance\n\n  // If there is no order, return the normal columns\n  if (!columnOrder || !columnOrder.length) {\n    return columns\n  }\n\n  const columnOrderCopy = [...columnOrder]\n\n  // If there is an order, make a copy of the columns\n  const columnsCopy = [...columns]\n\n  // And make a new ordered array of the columns\n  const columnsInOrder = []\n\n  // Loop over the columns and place them in order into the new array\n  while (columnsCopy.length && columnOrderCopy.length) {\n    const targetColumnId = columnOrderCopy.shift()\n    const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId)\n    if (foundIndex > -1) {\n      columnsInOrder.push(columnsCopy.splice(foundIndex, 1)[0])\n    }\n  }\n\n  // If there are any columns left, add them to the end\n  return [...columnsInOrder, ...columnsCopy]\n}\n\nfunction useInstance(instance) {\n  const { dispatch } = instance\n\n  const setColumnOrder = React.useCallback(\n    columnOrder => {\n      return dispatch({ type: actions.setColumnOrder, columnOrder })\n    },\n    [dispatch]\n  )\n\n  return {\n    ...instance,\n    setColumnOrder,\n  }\n}\n","import {\n  actions,\n  defaultColumn,\n  getFirstDefined,\n  mergeProps,\n  applyPropHooks,\n  useGetLatest,\n} from '../utils'\n\n// Default Column\ndefaultColumn.canResize = true\n\n// Actions\nactions.columnStartResizing = 'columnStartResizing'\nactions.columnResizing = 'columnResizing'\nactions.columnDoneResizing = 'columnDoneResizing'\n\nexport const useResizeColumns = hooks => {\n  hooks.stateReducers.push(reducer)\n  hooks.useInstanceBeforeDimensions.push(useInstanceBeforeDimensions)\n}\n\nuseResizeColumns.pluginName = 'useResizeColumns'\n\nfunction reducer(state, action) {\n  if (action.type === actions.init) {\n    return {\n      columnResizing: {\n        columnWidths: {},\n      },\n      ...state,\n    }\n  }\n\n  if (action.type === actions.columnStartResizing) {\n    const { clientX, columnId, columnWidth, headerIdWidths } = action\n\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        startX: clientX,\n        headerIdWidths,\n        columnWidth,\n        isResizingColumn: columnId,\n      },\n    }\n  }\n\n  if (action.type === actions.columnResizing) {\n    const { clientX } = action\n    const { startX, columnWidth, headerIdWidths } = state.columnResizing\n\n    const deltaX = clientX - startX\n    const percentageDeltaX = deltaX / columnWidth\n\n    const newColumnWidths = {}\n\n    headerIdWidths.forEach(([headerId, headerWidth]) => {\n      newColumnWidths[headerId] = Math.max(\n        headerWidth + headerWidth * percentageDeltaX,\n        0\n      )\n    })\n\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        columnWidths: {\n          ...state.columnResizing.columnWidths,\n          ...newColumnWidths,\n        },\n      },\n    }\n  }\n\n  if (action.type === actions.columnDoneResizing) {\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        startX: null,\n        isResizingColumn: null,\n      },\n    }\n  }\n}\n\nconst useInstanceBeforeDimensions = instance => {\n  instance.hooks.getResizerProps = []\n\n  const {\n    flatHeaders,\n    disableResizing,\n    hooks: { getHeaderProps },\n    state: { columnResizing },\n    dispatch,\n  } = instance\n\n  getHeaderProps.push(() => {\n    return {\n      style: {\n        position: 'relative',\n      },\n    }\n  })\n\n  const onMouseDown = (e, header) => {\n    const headersToResize = getLeafHeaders(header)\n    const headerIdWidths = headersToResize.map(d => [d.id, d.totalWidth])\n\n    const clientX = e.clientX\n\n    const onMouseMove = e => {\n      const clientX = e.clientX\n\n      dispatch({ type: actions.columnResizing, clientX })\n    }\n\n    const onMouseUp = e => {\n      document.removeEventListener('mousemove', onMouseMove)\n      document.removeEventListener('mouseup', onMouseUp)\n\n      dispatch({ type: actions.columnDoneResizing })\n    }\n\n    document.addEventListener('mousemove', onMouseMove)\n    document.addEventListener('mouseup', onMouseUp)\n\n    dispatch({\n      type: actions.columnStartResizing,\n      columnId: header.id,\n      columnWidth: header.totalWidth,\n      headerIdWidths,\n      clientX,\n    })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const getInstance = useGetLatest(instance)\n\n  flatHeaders.forEach(header => {\n    const canResize = getFirstDefined(\n      header.disableResizing === true ? false : undefined,\n      disableResizing === true ? false : undefined,\n      true\n    )\n\n    header.canResize = canResize\n    header.width = columnResizing.columnWidths[header.id] || header.width\n    header.isResizing = columnResizing.isResizingColumn === header.id\n\n    if (canResize) {\n      header.getResizerProps = userProps => {\n        return mergeProps(\n          {\n            onMouseDown: e => e.persist() || onMouseDown(e, header),\n            style: {\n              cursor: 'ew-resize',\n            },\n            draggable: false,\n          },\n          applyPropHooks(\n            getInstance().hooks.getResizerProps,\n            header,\n            getInstance()\n          ),\n          userProps\n        )\n      }\n    }\n  })\n\n  return instance\n}\n\nfunction getLeafHeaders(header) {\n  const leafHeaders = []\n  const recurseHeader = header => {\n    if (header.columns && header.columns.length) {\n      header.columns.map(recurseHeader)\n    }\n    leafHeaders.push(header)\n  }\n  recurseHeader(header)\n  return leafHeaders\n}\n","export const useAbsoluteLayout = hooks => {\n  hooks.useInstance.push(useInstance)\n}\n\nuseAbsoluteLayout.pluginName = 'useAbsoluteLayout'\n\nconst useInstance = instance => {\n  const {\n    totalColumnsWidth,\n    hooks: {\n      getRowProps,\n      getTableBodyProps,\n      getHeaderGroupProps,\n      getHeaderProps,\n      getCellProps,\n    },\n  } = instance\n\n  const rowStyles = {\n    style: {\n      position: 'relative',\n      width: `${totalColumnsWidth}px`,\n    },\n  }\n\n  getTableBodyProps.push(() => rowStyles)\n  getRowProps.push(() => rowStyles)\n  getHeaderGroupProps.push(() => rowStyles)\n\n  // Calculating column/cells widths\n  const cellStyles = {\n    position: 'absolute',\n    top: 0,\n  }\n\n  getHeaderProps.push(header => {\n    return {\n      style: {\n        ...cellStyles,\n        left: `${header.totalLeft}px`,\n        width: `${header.totalWidth}px`,\n      },\n    }\n  })\n\n  getCellProps.push(cell => {\n    return {\n      style: {\n        ...cellStyles,\n        left: `${cell.column.totalLeft}px`,\n        width: `${cell.column.totalWidth}px`,\n      },\n    }\n  })\n\n  return instance\n}\n","export const useBlockLayout = hooks => {\n  hooks.useInstance.push(useInstance)\n}\n\nuseBlockLayout.pluginName = 'useBlockLayout'\n\nconst useInstance = instance => {\n  const {\n    totalColumnsWidth,\n    hooks: { getRowProps, getHeaderGroupProps, getHeaderProps, getCellProps },\n  } = instance\n\n  const rowStyles = {\n    style: {\n      display: 'flex',\n      width: `${totalColumnsWidth}px`,\n    },\n  }\n\n  getRowProps.push(() => rowStyles)\n  getHeaderGroupProps.push(() => rowStyles)\n\n  const cellStyles = {\n    display: 'inline-block',\n    boxSizing: 'border-box',\n  }\n\n  getHeaderProps.push(header => {\n    return {\n      style: {\n        ...cellStyles,\n        width: `${header.totalWidth}px`,\n      },\n    }\n  })\n\n  getCellProps.push(cell => {\n    return {\n      style: {\n        ...cellStyles,\n        width: `${cell.column.totalWidth}px`,\n      },\n    }\n  })\n\n  return instance\n}\n"],"names":["actions","init","defaultColumn","Cell","cell","value","String","width","minWidth","maxWidth","Number","MAX_SAFE_INTEGER","defaultOrderByFn","arr","funcs","dirs","sort","rowA","rowB","i","length","sortFn","desc","sortInt","index","defaultGroupByFn","rows","columnId","reduce","prev","row","resKey","values","Array","isArray","push","mergeProps","props","groups","forEach","style","className","rest","filter","Boolean","join","applyHooks","hooks","initial","args","next","nextValue","Error","applyPropHooks","ensurePluginOrder","plugins","befores","pluginName","afters","pluginIndex","findIndex","plugin","before","beforeIndex","after","afterIndex","functionalUpdate","updater","old","useGetLatest","obj","ref","React","useRef","current","useCallback","safeUseLayoutEffect","document","useLayoutEffect","useEffect","useMountedLayoutEffect","fn","deps","mountedRef","useAsyncDebounce","defaultFn","defaultWait","debounceRef","debounce","wait","promise","Promise","resolve","reject","timeout","clearTimeout","setTimeout","useConsumeHookGetter","hookName","getter","undefined","decorateColumn","column","userDefaultColumn","parent","depth","id","accessor","Header","accessorPath","split","getBy","columns","console","error","Footer","decorateColumnTree","map","columnIndex","makeHeaderGroups","flatColumns","headerGroups","buildGroup","headerGroup","headers","parentColumns","hasParents","some","col","isFirst","latestParentColumn","reverse","similarParentColumns","d","originalId","placeholderColumn","placeholderOf","includes","totalHeaderCount","sum","header","pathObjCache","Map","path","def","cacheKey","JSON","stringify","pathObj","get","makePathArray","set","val","cursor","pathPart","e","getFirstDefined","flexRender","Comp","isReactComponent","isClassComponent","component","proto","Object","getPrototypeOf","prototype","isFunctionComponent","isFunction","a","flattenBy","childKey","recurse","expandRows","manualExpandedKey","expanded","expandSubRows","expandedRows","handleRow","key","isExpanded","original","canExpand","subRows","reOpenBracket","reCloseBracket","flattenDeep","replace","newArr","resetHiddenColumns","toggleHideColumn","setHiddenColumns","toggleHideAllColumns","useColumnVisibility","getToggleHiddenProps","getToggleHideAllColumnsProps","stateReducers","reducer","useInstanceBeforeDimensions","headerGroupsDeps","instance","state","hiddenColumns","useInstance","action","previousState","instanceRef","type","should","shouldAll","handleColumn","parentVisible","isVisible","totalVisibleHeaderCount","subColumn","subHeader","flatHeaders","dispatch","getInstance","allColumnsHidden","toggleHidden","onChange","target","checked","title","indeterminate","renderErr","defaultInitialState","defaultColumnInstance","defaultReducer","prevState","defaultGetSubRows","defaultGetRowId","defaultUseControlledState","useTable","data","userColumns","initialState","getSubRows","getRowId","stateReducer","userStateReducer","useControlledState","assign","columnsDeps","flatColumnsDeps","useRows","prepareRow","getTableProps","getTableBodyProps","getRowProps","getHeaderGroupProps","getFooterGroupProps","getHeaderProps","getFooterProps","getCellProps","getStateReducers","getUserStateReducer","info","s","handler","useReducer","reducerState","getColumns","getColumnsDeps","useMemo","getFlatColumns","getFlatColumnsDeps","getHeaderGroups","getHeaderGroupsDeps","flatRows","accessRow","originalRow","parentPath","rowId","cells","unpreparedAccessWarning","accessedData","all","getUseInstanceBeforeDimensions","calculateDimensions","getUseInstance","getHeaderPropsHooks","getFooterPropsHooks","render","userProps","colSpan","getHeaderGroupPropsHooks","getFooterGroupsPropsHooks","footerGroups","getUseRowsHooks","getPrepareRowHooks","getRowPropsHooks","getCellPropsHooks","columnPathStr","getTablePropsHooks","getTableBodyPropsHooks","totalColumnsWidth","calculateHeaderWidths","left","sumTotalWidth","subHeaders","totalLeft","totalWidth","Math","min","max","toggleExpandedByPath","resetExpanded","useExpanded","getExpandedToggleProps","exists","shouldExist","newExpanded","Set","add","delete","paginateExpandedRows","autoResetExpanded","getAutoResetExpanded","toggleExpanded","onClick","persist","expandedDepth","findExpandedDepth","maxDepth","text","filterValue","rowValue","toLowerCase","autoRemove","exactText","exactTextCase","includesAll","every","exact","equals","between","Infinity","temp","resetFilters","setFilter","setAllFilters","useFilters","filters","userFilterTypes","find","filterMethod","getFilterMethod","filterTypes","newFilter","shouldAutoRemove","remove","newFilters","keys","manualFilters","defaultCanFilter","disableFilters","autoResetFilters","preFilteredRows","preFilteredFlatRows","columnDefaultCanFilter","columnDisableFilters","canFilter","filteredRows","filteredFlatRows","filterRows","entries","filteredSoFar","warn","nonFilteredColumns","getAutoResetFilters","average","round","median","uniqueCount","size","count","resetGroupBy","toggleGroupBy","useGroupBy","groupBy","toggle","resolvedToggle","groupByColumns","g","nonGroupByColumns","groupByBoundaryColumnIndex","groupByBoundary","slice","defaultUserAggregations","groupByFn","manualGroupBy","defaultCanGroupBy","disableGroupBy","aggregations","userAggregations","autoResetGroupBy","manaulGroupBy","defaultColumnGroupBy","defaultGroupBy","columnDisableGroupBy","isGrouped","groupedIndex","indexOf","canGroupBy","Aggregated","getGroupByToggleProps","groupByID","isRepeatedValue","isAggregated","aggregateRowsToValues","columnValues","aggregator","aggregate","aggregateFn","groupedFlatRows","groupRecursively","concat","groupedRows","groupByVal","getAutoResetGroupBy","preGroupedRows","reSplitAlphaNumeric","alphanumeric","getRowValueByColumnID","b","toString","aa","shift","bb","an","parseInt","bn","combo","isNaN","datetime","getTime","compareBasic","basic","resetSortBy","toggleSortBy","clearSortBy","sortType","sortDescFirst","useSortBy","sortBy","newSortBy","multi","disableMultiSort","disableSortRemove","disableMultiRemove","maxMultiSortColCount","existingSortBy","existingIndex","hasDescDefined","sortAction","splice","orderByFn","userSortTypes","sortTypes","manualSortBy","defaultCanSort","disableSortBy","isMultiSortEvent","shiftKey","autoResetSortBy","getSortByToggleProps","defaultColumnCanSort","canSort","columnDisableSortBy","columnSort","isSorted","sortedIndex","isSortedDesc","sortedRows","availableSortBy","sortData","sortedData","sortMethod","sortInverted","getAutoResetSortBy","preSortedRows","resetPage","gotoPage","setPageSize","usePagination","pageSize","pageIndex","pageCount","newPageIndex","topRowIndex","floor","autoResetPage","userPageCount","manualPagination","getAutoResetPage","ceil","pageOptions","page","pageStart","pageEnd","canPreviousPage","canNextPage","previousPage","nextPage","resetSelectedRows","toggleRowSelectedAll","toggleRowSelected","useRowSelect","getToggleRowSelectedProps","getToggleAllRowsSelectedProps","selectedRowPaths","selected","isAllRowsSelected","flatRowPaths","selectAll","childRowPrefixKey","has","newSelectedRowPaths","rowPath","startsWith","updateParentRow","parentKey","selectedFlatRows","isSelected","getRowIsSelected","manualRowSelectedKey","autoResetSelectedRows","getAutoResetSelectedRows","subRow","setRowState","resetRowState","useRowState","rowState","pathKey","initialRowStateAccessor","autoResetRowState","setCellState","cellState","getAutoResetRowState","setState","resetColumnOrder","setColumnOrder","useColumnOrder","columnOrder","columnOrderCopy","columnsCopy","columnsInOrder","targetColumnId","foundIndex","canResize","columnStartResizing","columnResizing","columnDoneResizing","useResizeColumns","columnWidths","clientX","columnWidth","headerIdWidths","startX","isResizingColumn","deltaX","percentageDeltaX","newColumnWidths","headerId","headerWidth","getResizerProps","disableResizing","position","onMouseDown","headersToResize","getLeafHeaders","onMouseMove","onMouseUp","removeEventListener","addEventListener","isResizing","draggable","leafHeaders","recurseHeader","useAbsoluteLayout","rowStyles","cellStyles","top","useBlockLayout","display","boxSizing"],"mappings":"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"}